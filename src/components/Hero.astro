---
const name = "Xinran Li";
const tagline = "ECE • ML";
const location = "CMU • Pittsburgh, PA";

const links = [
  { label: "GitHub", href: "https://github.com/LilianLeexr" },
  { label: "LinkedIn", href: "https://www.linkedin.com/in/xinranli17/" },
  { label: "Email", href: "mailto:xinranl3@andrew.cmu.edu" }, // ✅ 记得 mailto
  // { label: "Resume", href: "/resume.pdf" },
];

const columns = [
  { title: "Notes", desc: "Reading notes, quick experiments, and small wins.", href: "/notes" },
  { title: "Projects", desc: "Progress logs and engineering write-ups.", href: "/projects" },
  { title: "Writing", desc: "Long-form thoughts and reflections.", href: "/writing" },
];

const projects = [
  {
    title: "Edge AI Object Detection",
    desc: "Trained and deployed SSD-based detection models on embedded EdgeAI hardware, balancing accuracy and latency.",
    tags: ["PyTorch", "Computer Vision", "Edge AI"],
    status: "Active",
    progress: 70,
    updates: ["SSD baseline trained", "Edge deployment pipeline in progress"],
  },
  {
    title: "Ferrobot Control Platform",
    desc: "Designed and debugged a PCB-based magnetic control system for microfluidic ferrobot research.",
    tags: ["PCB", "Embedded Systems"],
    status: "Ongoing",
    progress: 55,
    updates: ["PCB bring-up & debugging", "System integration improvements"],
  },
  {
    title: "AI for Infant Epilepsy",
    desc: "Built ML pipelines to assist clinicians in identifying affected brain regions for surgical planning.",
    tags: ["Machine Learning", "Medical AI"],
    status: "Wrapped",
    progress: 100,
    updates: ["Dataset pipeline complete", "Model training & evaluation done"],
  },
];

// 先用占位，下一步会改成从 Markdown 自动读取
const featuredPosts = [
  {
    title: "How I Organize Research Notes",
    date: "2025-12-29",
    section: "Notes",
    href: "/notes/how-i-organize-notes",
    desc: "A simple workflow to keep notes searchable, linkable, and publishable.",
  },
  {
    title: "Edge AI Deployment Checklist",
    date: "2025-12-20",
    section: "Projects",
    href: "/projects/edgeai-deploy-checklist",
    desc: "Pitfalls, profiling, and conversion steps I keep reusing.",
  },
  {
    title: "Reproducible Engineering: My Defaults",
    date: "2025-12-10",
    section: "Writing",
    href: "/writing/reproducible-engineering-defaults",
    desc: "A short checklist for scripts, docs, and measurable progress.",
  },
];
---

<main class="wrap">
  <!-- HERO -->
  <section class="section">
    <div class="card hero">
      <div class="heroTop">
        <div>
          <h1 class="name">{name}</h1>
          <p class="tagline">{tagline}</p>
          <p class="meta">{location}</p>
        </div>

        <nav class="actions">
          {links.map((l) => (
            <a class="chip link" href={l.href} target={l.href.startsWith("http") ? "_blank" : undefined}>
              {l.label}
            </a>
          ))}
        </nav>
      </div>

      <p class="intro">
        I work at the intersection of hardware and software. This site is my public lab notebook:
        I publish notes by column, track project progress, and share write-ups as things mature.
      </p>
    </div>
  </section>

  <!-- COLUMNS -->
  <section class="section">
    <header class="head">
      <h2>Columns</h2>
      <p>Choose a column to browse posts.</p>
    </header>

    <div class="grid cols">
      {columns.map((c) => (
        <a class="card column" href={c.href}>
          <div class="colTitle">{c.title}</div>
          <div class="colDesc">{c.desc}</div>
          <div class="cta">Explore →</div>
        </a>
      ))}
    </div>
  </section>

  <!-- PROJECTS -->
  <section class="section">
    <header class="head">
      <h2>Projects</h2>
      <p>Ongoing work with progress and recent updates.</p>
    </header>

    <div class="grid projects">
      {projects.map((p) => (
        <article class="card project">
          <div class="projHead">
            <div>
              <h3>{p.title}</h3>
              <p class="desc">{p.desc}</p>
            </div>
            <span class={`chip status ${p.status.toLowerCase()}`}>{p.status}</span>
          </div>

          <div class="progress">
            <div class="prow">
              <span>Progress</span>
              <span>{p.progress}%</span>
            </div>
            <div class="bar"><div class="fill" style={`width:${p.progress}%`}></div></div>
          </div>

          <ul class="updates">
            {p.updates.map((u) => <li>{u}</li>)}
          </ul>

          <div class="tags">
            {p.tags.map((t) => <span class="chip">{t}</span>)}
          </div>
        </article>
      ))}
    </div>
  </section>

  <!-- FEATURED POSTS -->
  <section class="section">
    <header class="head">
      <h2>Latest Posts</h2>
      <p>Featured writing across columns (soon auto-generated from Markdown).</p>
    </header>

    <div class="grid posts">
      {featuredPosts.map((post) => (
        <a class="card post" href={post.href}>
          <div class="postMeta">
            <span class="chip">{post.section}</span>
            <time datetime={post.date}>{post.date}</time>
          </div>
          <div class="postTitle">{post.title}</div>
          <div class="postDesc">{post.desc}</div>
          <div class="cta">Read →</div>
        </a>
      ))}
    </div>
  </section>

  <footer class="footer">
    <span>© {new Date().getFullYear()} {name}</span>
    <span class="dot">·</span>
    <span>Built with Astro</span>
  </footer>
</main>

<style>
.wrap {
  max-width: 980px;
  margin: 0 auto;
  padding: 64px 20px 56px;
}

.section { margin-bottom: 44px; }

.head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 18px;
  margin-bottom: 14px;
}

.head h2 {
  margin: 0;
  font-size: 14px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
}

.head p {
  margin: 0;
  font-size: 13px;
  color: var(--muted2);
}

/* cards + grids */
.card {
  background: linear-gradient(180deg, var(--card), var(--card2));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.grid { display: grid; gap: 14px; }
.grid.cols { grid-template-columns: repeat(3, 1fr); }
.grid.projects { grid-template-columns: repeat(2, 1fr); }
.grid.posts { grid-template-columns: repeat(3, 1fr); }

@media (max-width: 920px) {
  .grid.cols, .grid.projects, .grid.posts { grid-template-columns: 1fr; }
}

/* hero */
.hero { padding: 22px; }
.heroTop {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  align-items: flex-start;
}
.name { margin: 0; font-size: 42px; letter-spacing: -0.02em; }
.tagline { margin: 6px 0 0; color: var(--muted); }
.meta { margin: 6px 0 0; color: var(--muted2); font-size: 13px; }
.actions { display: flex; flex-wrap: wrap; gap: 10px; }
.intro { margin: 16px 0 0; line-height: 1.7; color: var(--muted); }

/* chips */
.chip {
  display: inline-flex;
  align-items: center;
  padding: 7px 11px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: 12px;
  color: var(--muted);
  background: rgba(255,255,255,0.6);
}
.link { text-decoration: none; }
.link:hover { filter: brightness(0.98); }

/* columns */
.column {
  padding: 16px;
  text-decoration: none;
  color: inherit;
  transition: transform 160ms ease, border-color 160ms ease;
}
.column:hover { transform: translateY(-2px); border-color: rgba(0,0,0,0.14); }
.colTitle { font-weight: 650; margin-bottom: 6px; }
.colDesc { color: var(--muted); font-size: 13px; line-height: 1.6; }
.cta { margin-top: 12px; color: var(--muted2); font-size: 13px; }

/* projects */
.project { padding: 16px; }
.projHead { display: flex; justify-content: space-between; gap: 14px; }
.project h3 { margin: 0; font-size: 16px; }
.desc { margin: 6px 0 0; color: var(--muted); font-size: 13px; line-height: 1.6; }
.status { white-space: nowrap; }
.progress { margin-top: 14px; }
.prow { display: flex; justify-content: space-between; font-size: 12px; color: var(--muted2); margin-bottom: 6px; }
.bar { height: 8px; border-radius: 999px; background: rgba(0,0,0,0.06); overflow: hidden; border: 1px solid rgba(0,0,0,0.08); }
.fill { height: 100%; border-radius: 999px; background: rgba(0,0,0,0.26); }
.updates { margin: 12px 0 0; padding-left: 18px; color: var(--muted); font-size: 13px; line-height: 1.6; }
.tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }

/* posts */
.post {
  padding: 16px;
  text-decoration: none;
  color: inherit;
  transition: transform 160ms ease, border-color 160ms ease;
}
.post:hover { transform: translateY(-2px); border-color: rgba(0,0,0,0.14); }
.postMeta { display: flex; justify-content: space-between; color: var(--muted2); font-size: 12px; }
.postTitle { margin-top: 10px; font-weight: 650; line-height: 1.35; }
.postDesc { margin-top: 8px; color: var(--muted); font-size: 13px; line-height: 1.6; }

/* footer */
.footer {
  display: flex;
  justify-content: center;
  gap: 10px;
  color: var(--muted2);
  font-size: 13px;
  margin-top: 26px;
}
.dot { opacity: 0.55; }
</style>
